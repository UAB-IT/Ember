/*--------------------------------------------------
START GRID
--------------------------------------------------*/
$gap: s(2) !default;
$gap-sm: s(1) !default;
$gap-md: s(2) !default;
$gap-lg: s(4) !default;
/*------------------------
START IE FALLBACK
------------------------*/
$grid-1: 7.2 !default;
$grid-2: #{ $grid-1 * 2 + '%'};
$grid-3: #{ $grid-1 * 3 + '%'};
$grid-4: #{ $grid-1 * 4 + '%'};
$grid-5: #{ $grid-1 * 5 + '%'};
$grid-6: #{ $grid-1 * 6 + '%'};
$grid-7: #{ $grid-1 * 7 + '%'};
$grid-8: #{ $grid-1 * 8 + '%'};
$grid-9: #{ $grid-1 * 9 + '%'};
$grid-10: #{ $grid-1 * 10 + '%'};
$grid-11: #{ $grid-1 * 11 + '%'};
$grid-12: #{ $grid-1 * 12 + '%'};
@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
  [class*='grid-2'],
  [class*='grid-3'],
  [class*='grid-4'],
  [class*='grid-6'] {
    box-sizing: border-box;
    display: flex;
    flex-wrap: wrap;
    margin: -0.5rem;
  }

  [class*='grid-2'] > *,
  [class*='grid-3'] > *,
  [class*='grid-4'] > *,
  [class*='grid-6'] > * {
    flex-grow: 1;
    width: 100%;
    box-sizing: border-box;
    margin: 0.5rem;
  }

  .span-1 { flex-grow: 1; }
  .span-2 { flex-grow: 2; }
  .span-3 { flex-grow: 3; }
  .span-4 { flex-grow: 4; }
  .span-5 { flex-grow: 5; }

  .grid--no-gap,
  .grid--no-gap > * {
    margin: 0;
  }

  .grid-6 > *,
  .grid-6 > .span-1,
  .grid-6-md > *,
  .grid-6-md > .span-1-md,
  .grid-6-lg > *,
  .grid-6-lg > .span-1 {
    width: #{$grid-2};
  }
  .grid-4 > *,
  .grid-4 .span-1,
  .grid-4-md > *,
  .grid-4-md .span-1-md,
  .grid-4-lg > *,
  .grid-4-lg .span-1-lg {
    width: #{$grid-3};
  }
  .grid-3 > *,
  .grid-3 > .span-1,
  .grid-6 > .span-2,
  .grid-3-md > *,
  .grid-3-md > .span-1-md,
  .grid-6-md > .span-2-md,
  .grid-3-lg > *,
  .grid-3-lg > .span-1-lg,
  .grid-6-lg > .span-2-lg {
    width: #{$grid-4};
  }
  .grid-2 > *,
  .grid-2 > .span-1,
  .grid-4 > .span-2,
  .grid-6 > .span-3,
  .grid-2-md > *,
  .grid-2-md > .span-1-md,
  .grid-4-md > .span-2-md,
  .grid-6-md > .span-3-md,
  .grid-2-lg > *,
  .grid-2-lg > .span-1-lg,
  .grid-4-lg > .span-2-lg,
  .grid-6-lg > .span-3-lg {
    width: #{$grid-6};
  }
  .grid-3 > .span-2,
  .grid-6 > .span-4,
  .grid-3-md > .span-2-md,
  .grid-6-md > .span-4-md,
  .grid-3-lg > .span-2-lg,
  .grid-6-lg > .span-4-lg {
    width: #{$grid-8};
  }
  .grid-4 > .span-3,
  .grid-4-md > .span-3-md,
  .grid-4-lg > .span-3-lg {
    width: #{$grid-9};
  }
  .grid-6 > .span-5,
  .grid-6-md > .span-5-md,
  .grid-6-lg > .span-5-lg {
    width: #{$grid-10};
  }
  .grid-2 > .span-2,
  .grid-3 > .span-3,
  .grid-4 > .span-4,
  .grid-6 > .span-6,
  .grid-2-md > .span-2-md,
  .grid-3-md > .span-3-md,
  .grid-4-md > .span-4-md,
  .grid-6-md > .span-6-md,
  .grid-2-lg > .span-2-lg,
  .grid-3-lg > .span-3-lg,
  .grid-4-lg > .span-4-lg,
  .grid-6-lg > .span-6-lg {
    width: #{$grid-12};
  }
}
/*------------------------
END IE FALLBACK
------------------------*/
@supports ( display: grid ) {
  [class*='grid-2'] > [class*='span-'],
  [class*='grid-3'] > [class*='span-'],
  [class*='grid-4'] > [class*='span-'],
  [class*='grid-6'] > [class*='span-'],
  [class*='grid-2'] > *,
  [class*='grid-3'] > *,
  [class*='grid-4'] > *,
  [class*='grid-6'] > *,
  [class*='grid-2'],
  [class*='grid-3'],
  [class*='grid-4'],
  [class*='grid-6'] {
    width: 100%;
    margin: 0;
  }
  [class*='grid-1'],
  [class*='grid-2'],
  [class*='grid-3'],
  [class*='grid-4'],
  [class*='grid-6'] {
    @include block-margin;
    display: grid;
    grid-gap: $gap;
    grid-auto-flow: row;
  }
  .grid--no-gap {
    grid-gap: 0;
  }
  .grid--gap-sm {
    grid-gap: $gap-sm;
  }
  .grid--gap-md {
    grid-gap: $gap-md;
  }
  .grid--gap-lg {
    grid-gap: $gap-lg;
  }
}

.grid-1 { grid-template-columns: repeat( 1, 1fr ); }
.grid-2 { grid-template-columns: repeat( 2, 1fr ); }
.grid-3 { grid-template-columns: repeat( 3, 1fr ); }
.grid-4 { grid-template-columns: repeat( 4, 1fr ); }
.grid-6 { grid-template-columns: repeat( 6, 1fr ); }

.grid-1 > .span-1,
.grid-2 > .span-1,
.grid-3 > .span-1,
.grid-4 > .span-1,
.grid-6 > .span-1 { grid-column: span 1; }
.grid-2 > .span-2,
.grid-3 > .span-2,
.grid-4 > .span-2,
.grid-6 > .span-2 { grid-column: span 2; }
.grid-3 > .span-3,
.grid-4 > .span-3,
.grid-6 > .span-3, { grid-column: span 3; }
.grid-4 > .span-4,
.grid-6 > .span-6 { grid-column: span 4; }
.grid-6 > .span-5 { grid-column: span 5; }
.grid-6 > .span-6 { grid-column: span 6; }

@include breakpoint(sm) {
  .grid-1-sm { grid-template-columns: repeat( 1, 1fr ); }
  .grid-2-sm { grid-template-columns: repeat( 2, 1fr ); }
  .grid-3-sm { grid-template-columns: repeat( 3, 1fr ); }
  .grid-4-sm { grid-template-columns: repeat( 4, 1fr ); }
  .grid-6-sm { grid-template-columns: repeat( 6, 1fr ); }

  .grid-1-sm > .span-1-sm,
  .grid-2-sm > .span-1-sm,
  .grid-3-sm > .span-1-sm,
  .grid-4-sm > .span-1-sm,
  .grid-6-sm > .span-1-sm { grid-column: span 1; }
  .grid-2-sm > .span-2-sm,
  .grid-3-sm > .span-2-sm,
  .grid-4-sm > .span-2-sm,
  .grid-6-sm > .span-2-sm { grid-column: span 2; }
  .grid-3-sm > .span-3-sm,
  .grid-4-sm > .span-3-sm,
  .grid-6-sm > .span-3-sm, { grid-column: span 3; }
  .grid-4-sm > .span-4-sm,
  .grid-6-sm > .span-6-sm { grid-column: span 4; }
  .grid-6-sm > .span-5-sm { grid-column: span 5; }
  .grid-6-sm > .span-6-sm { grid-column: span 6; }
}

@include breakpoint(md) {
  .grid-1-md { grid-template-columns: repeat( 1, 1fr ); }
  .grid-2-md { grid-template-columns: repeat( 2, 1fr ); }
  .grid-3-md { grid-template-columns: repeat( 3, 1fr ); }
  .grid-4-md { grid-template-columns: repeat( 4, 1fr ); }
  .grid-6-md { grid-template-columns: repeat( 6, 1fr ); }

  .grid-1-md > .span-1-md,
  .grid-2-md > .span-1-md,
  .grid-3-md > .span-1-md,
  .grid-4-md > .span-1-md,
  .grid-6-md > .span-1-md { grid-column: span 1; }
  .grid-2-md > .span-2-md,
  .grid-3-md > .span-2-md,
  .grid-4-md > .span-2-md,
  .grid-6-md > .span-2-md { grid-column: span 2; }
  .grid-3-md > .span-3-md,
  .grid-4-md > .span-3-md,
  .grid-6-md > .span-3-md, { grid-column: span 3; }
  .grid-4-md > .span-4-md,
  .grid-6-md > .span-6-md { grid-column: span 4; }
  .grid-6-md > .span-5-md { grid-column: span 5; }
  .grid-6-md > .span-6-md { grid-column: span 6; }
}

@include breakpoint(lg) {
  .grid-1-lg { grid-template-columns: repeat( 1, 1fr ); }
  .grid-2-lg { grid-template-columns: repeat( 2, 1fr ); }
  .grid-3-lg { grid-template-columns: repeat( 3, 1fr ); }
  .grid-4-lg { grid-template-columns: repeat( 4, 1fr ); }
  .grid-6-lg { grid-template-columns: repeat( 6, 1fr ); }

  .grid-1-lg > .span-1-lg,
  .grid-2-lg > .span-1-lg,
  .grid-3-lg > .span-1-lg,
  .grid-4-lg > .span-1-lg,
  .grid-6-lg > .span-1-lg { grid-column: span 1; }
  .grid-2-lg > .span-2-lg,
  .grid-3-lg > .span-2-lg,
  .grid-4-lg > .span-2-lg,
  .grid-6-lg > .span-2-lg { grid-column: span 2; }
  .grid-3-lg > .span-3-lg,
  .grid-4-lg > .span-3-lg,
  .grid-6-lg > .span-3-lg, { grid-column: span 3; }
  .grid-4-lg > .span-4-lg,
  .grid-6-lg > .span-6-lg { grid-column: span 4; }
  .grid-6-lg > .span-5-lg { grid-column: span 5; }
  .grid-6-lg > .span-6-lg { grid-column: span 6; }
}

/*--------------------------------------------------
END GRID
--------------------------------------------------*/
// Fix for Grid Items
#{$specify} [class*='grid-1'] > * :last-child,
#{$specify} [class*='grid-2'] > * :last-child,
#{$specify} [class*='grid-3'] > * :last-child,
#{$specify} [class*='grid-4'] > * :last-child,
#{$specify} [class*='grid-6'] > * :last-child {
  margin-bottom: 0;
}


/* remove floats from sections with columns since this is handled through grid */
body.hd .latestnews li,
body.hd .relateditems li,
body.hd .mostread li,
body.hd .newsfeed li,
body.hd .sections li,
body.hd .weblinks li,
body.hd .k2ItemsBlock li,
body.hd .category-module,
body.hd .moduleCustomLink,
body.hd .rightsidebar .nav.menu li {
  @include reset(float);
  width: 100%;
}
