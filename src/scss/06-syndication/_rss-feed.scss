@use '../01-core/' as *;
@use '../01-core/token';
@use '@mattmcadams/stratus';
/* ==========================================================================
   SECTION RSS FEED
   Generated from the Simple RSS Feed Generator module in Joomla
========================================================================== */
#{$specify-main}{
/** SECTION Layout
 * Setup columns
-------------------------------------------------------------------------- */

.srfrContainer.srfrStream {
  float: none;
  display: block;
}

// QUESTION: This specificity is from lists.scss?
.srfrList {
  list-style: none;
  margin-left: 0;
}

li.srfrRow {
  @include token.block-margin;
  padding-bottom: token.space(1);
  border-bottom: token.border('width', 'hairline') solid token.border('color', 'accent'); /*[3]*/
  display: grid;
  grid-template-columns: 200px 1fr;
  grid-column-gap: token.space(2);
}

/* Remove default positioning logic */
// OPTIMIZE: keep these styles, add a supports query for ie support?
.srfrStream .col1 { width: 100%; }
.srfrStream .col1 a::after { display: none; }
.srfrStream .col2 {
  width: auto;
  margin: 0;
}

/* End !SECTION Layout */
/** SECTION Title
 * Style the entry title
-------------------------------------------------------------------------- */

a.srfrTitle {
  display: block;
  float: none;
  border: none;
  margin-bottom: token.space(0.5);
}

a.srfrTitle:hover {
  background: transparent;
  text-decoration: underline;
  border: none;
}

// FIX Remove unnecessary clearfix so it doesn't mess with the grid
a.srfrTitle::after { display: none; }
.srfrStream .srfrReadMore > a {
  font-size: 0;
  border: none;
}

/* End !SECTION Title */
/** SECTION Read More
 * Add contextual button information
-------------------------------------------------------------------------- */

/* Add button styles */
// REVIEW: Add placeholder content in case queries below fail?
/* NOTE: Selectors added here to override link after icon styles */

.srfrContainer .srfrReadMore a::after {
  content: 'Read More';
  @extend %button;
  font-size: 0.9rem;
  display: inline;
  font-family: 'kulturista-web', serif !important;
}
.srfrReadMore a:hover::after {
  @extend %hover;
}

/* Change button title depending on destination */
.srfrReadMore a[href*='uab.edu/news']::after { content: 'UAB News'; }
.srfrReadMore a[href*='reporter']::after { content: 'UAB Reporter'; }
.srfrReadMore a[href*='uab.edu/it']::after { content: 'IT News'; }

/** SECTION Featured Story
 * Extra style for a highlighted story
-------------------------------------------------------------------------- */

// .srfrContainer.srfrStream.featured-rss-story ul li.srfrRow {
//   margin: 0 0 s(2) 0;
//   border-left: $bdr-md solid $c-primary;
//   border-bottom: none;
//   grid-template-areas: 'article image';
//   grid-template-columns: 2fr 1fr;
//   padding: 0;
//   background-color: $c-background;
// }
// .srfrStream.featured-rss-story .col1 { grid-area: image; }

// // REVIEW: Explain what is happening here, does it need a grid-area as well, fallbacks for IE?
// .srfrStream.featured-rss-story .col2 {
//   padding: s(4) 0 s(2) s(2);
//   position: relative;
// }

// // OPTIMIZE: Can the key selector here not be an element? :last-child maybe?
// .srfrStream.featured-rss-story .col2 p {
//   margin-bottom: 0;
// }

// /**
//  * Styles the featured image to be as large as possible
//  * crops the image to whatever size is needed
//  * QUESTION: Why margin 0?
//  */
// #wrapper div.srfrContainer.srfrStream.featured-rss-story ul.srfrList li img.srfrImage {
//   max-width: 100%;
//   max-height: 100%;
//   width: 100%;
//   height: 100%;
//   object-fit: cover;
//   margin: 0;
// }

// /* Hide the read more button on the featured story */
// .srfrStream.featured-rss-story .srfrReadMore {
//   display: none;
// }

// /* Style the featured title like a header */
// .featured-rss-story a.srfrTitle {
//   font-family: 'kulturista-web', serif !important;
//   @include type-setting(medium);
// }

// /* Add a "featured" flag on the element */
// .srfrStream.featured-rss-story .col2::before {
//   content: 'Featured';
//   display: inline-block;
//   @include position(absolute, s(1) null null 0);
//   padding: 0 1em;
//   color: white;
//   background-color: $c-primary;
//   line-height: 2em;
//   align-content: center;
// }

/* End !SECTION Featured Story */
/* End !SECTION RSS FEED */
}
